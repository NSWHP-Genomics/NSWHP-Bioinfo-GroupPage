---
title: "Remote Development on AWS EC2 with VSCode"
comments: true
categories:
  - Notes
  - Setups
  - Onboarding
tags:
  - comments
  - vscode
  - onboarding
author: robqiao
---

## Motivations
VSCode native development has grown to be a popular choice for many developers. Creating a VSCode native development environment for all team members will not only ensure a consistant development experience, but also reduce the onboarding time for new team members. With growing popularity of cloud computing, this blog aims to discuss a few common practical setups to enable a VSCode native development environment for AWS EC2.

## Introduction
VSCode supports [remote connection via SSH](https://code.visualstudio.com/docs/remote/ssh-tutorial), which is traditionally the *de fecto* route for remote development. However, SSH is not the only option, and due to the increaseing restrictions of SSH key pairs under corperate environment to avoid cyber attack (reducing attack surface), alternative connecting mechanism to cloud infrastructure like via [Amazon simple systems manager (SSM)](https://docs.aws.amazon.com/systems-manager/latest/userguide/what-is-systems-manager.html) will be discuss futher in this post.

## EC2 and Local Requirements
* EC2 does not have a public IP address
* EC2 is in a private subnet and managed by AWS systems manager (SSM)
* AWS IAM role allows policy __AmazonSSMManagedInstanceCore__ and __AmazonSSMFullAccess__ (min __ssm:SendCommand__)
* EC2 instance runs on a [latest supported Linux AMI](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/finding-an-ami.html) where possible
* Local has [AWS CLI](https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2-linux.html) and [AWS CLI session manager plug-in](https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager-working-with-install-plugin.html) installed

## Setups
1. Prepare a SSH key pair for the EC2 instance
1. Config local SSH client
    - sds
    - Also possible to configure directly inside VSCode, call `Remote-SSH: Open Configuration File...` from the [Command Palette (F1)](https://code.visualstudio.com/docs/getstarted/userinterface#_command-palette) to open SSH client config file, commonly located at `~/.ssh/config`  
<script src="https://gist.github.com/manifestoso/7b7a38dd7910560e962c5a76a561c9e0.js"></script>